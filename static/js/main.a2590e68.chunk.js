(this.webpackJsonppikamovie=this.webpackJsonppikamovie||[]).push([[0],{13:function(e,t,n){e.exports={outside:"movie_modal_outside__2SWC8",inside:"movie_modal_inside__2-59p",left:"movie_modal_left__1e_pL",right:"movie_modal_right__1ca-5",poster:"movie_modal_poster__a_a2N",title:"movie_modal_title__2edEX",description:"movie_modal_description__2cOYU",actors:"movie_modal_actors__4Waik",plot:"movie_modal_plot__3dsda",hr:"movie_modal_hr__pigVq",imdb:"movie_modal_imdb__lpGyP",rating:"movie_modal_rating__3iLcy",votes:"movie_modal_votes__2md0s"}},18:function(e,t,n){e.exports={button:"login_button__cVV0v",nav:"login_nav__IzDTH",menu:"login_menu__2wcfy",google:"login_google__1VAK_",github:"login_github__fjuN_",dashboard:"login_dashboard__guTVr",logout:"login_logout__7TNcY",line:"login_line__2hkBP",close:"login_close__35Aj7"}},23:function(e,t,n){e.exports={movie:"movie_item_movie__33pLq",poster:"movie_item_poster__17PKL",description:"movie_item_description__NWmWD",title:"movie_item_title__2TFC-",year:"movie_item_year__gUs1r",others:"movie_item_others__RVQX7",rating:"movie_item_rating__GboHh",votes:"movie_item_votes__1UqPg",nominate:"movie_item_nominate__1RL55"}},24:function(e,t,n){e.exports={main:"main_main__LFc35",comment:"main_comment__1sQUQ",tables:"main_tables__2c3po",left:"main_left__2-e6I",right:"main_right__2LUfN",header:"main_header__13kMO",button:"main_button__tjuH3",search:"main_search__1bgF_",login:"main_login__DDZkx",menu:"main_menu__3tyHx",google:"main_google__FHF5J",github:"main_github__2Pit9",dashboard:"main_dashboard__Q6tcl",logout:"main_logout__2MDvA",line:"main_line__3_KTX",close:"main_close__RrXKS"}},28:function(e,t,n){e.exports={dashboard:"dashboard_dashboard__szo7I",title:"dashboard_title__SuL4r",account:"dashboard_account__Jlj5d",nomination:"dashboard_nomination__ubXCa"}},36:function(e,t,n){e.exports={search:"search_search__39IyF",input:"search_input__16ePz",button:"search_button__2-BmO"}},37:function(e,t,n){e.exports={information:"nominee_item_information__2kaaj",delete:"nominee_item_delete__xfVFf"}},38:function(e,t,n){e.exports={nominees:"nominee_list_nominees__1FYWl",comment:"nominee_list_comment__1h3N_"}},57:function(e,t,n){e.exports={logo:"logo_logo__2RCD0"}},59:function(e,t,n){e.exports={movies:"movie_list_movies__2a9F0"}},60:function(e,t,n){e.exports={footer:"footer_footer__3PRp2"}},61:function(e,t,n){e.exports={header:"app_header__2WjEs"}},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n.n(a),i=n(54),s=n.n(i),o=n(25),r=n(26),l=n(29),j=n(55).a.initializeApp({apiKey:"AIzaSyDmFxIvaQaGS9_-C0WNggzsVgyGcanSiQE",authDomain:"pikamovie-react.firebaseapp.com",projectId:"pikamovie-react",storageBucket:"pikamovie-react.appspot.com"}),m=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"login",value:function(e){var t=new(l.a.auth["".concat(e,"AuthProvider")]);return l.a.auth().signInWithPopup(t)}},{key:"logout",value:function(){l.a.auth().signOut()}},{key:"onAuthChange",value:function(e){l.a.auth().onAuthStateChanged((function(t){e(t)}))}},{key:"getUser",value:function(){var e=l.a.auth().currentUser;console.log(e)}}]),e}(),u=n(22),b=n.n(u),d=n(35),h=n(56),_=n.n(h),O=function(){function e(t){Object(o.a)(this,e),this.pikamovie=_.a.create({baseURL:"https://www.omdbapi.com/",params:{apikey:t}})}return Object(r.a)(e,[{key:"initialData",value:function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pikamovie.get("",{params:{type:"movie",s:"life"}});case 2:return t=e.sent,e.abrupt("return",t.data.Search);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchByTitle",value:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pikamovie.get("",{params:{type:"movie",s:t}});case 2:return n=e.sent,e.abrupt("return",n.data.Search);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"searchById",value:function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pikamovie.get("",{params:{type:"movie",i:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),p=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"saveNominee",value:function(e,t){j.database().ref("".concat(e,"/nominees/").concat(t.imdbID)).set({})}}]),e}(),v=n(20),x=n(10),f=n(57),g=n.n(f),N=n(3),k=Object(a.memo)((function(){return Object(N.jsx)("header",{className:g.a.logo,children:Object(N.jsx)(v.b,{to:"/",children:"Pikamovie"})})})),y=n(9),C=n(27),S=n(18),D=n.n(S),A=function(e){var t,n=e.authService,c=Object(x.e)(),i=null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.state,s=Object(a.useState)(i&&i.id),o=Object(y.a)(s,2),r=o[0],l=o[1],j=Object(a.useState)(i&&i.displayName),m=Object(y.a)(j,2),u=(m[0],m[1]),b=Object(a.useState)(i&&i.Email),d=Object(y.a)(b,2),h=(d[0],d[1]),_=Object(a.useState)(!1),O=Object(y.a)(_,2),p=O[0],v=O[1],f=function(){v(!1)},g=function(e){n.login(e.currentTarget.textContent).then((function(e){k(e),f()}))},k=function(e){e.user&&e.user.uid?c.push({pathname:"/dashboard",state:{id:r,name:e.user.displayName,email:e.user.email}}):c.push("/dashboard"),f()};return Object(a.useEffect)((function(){n.onAuthChange((function(e){e&&(l(e.uid),u(e.displayName),h(e.email))}))})),Object(N.jsxs)("section",{className:D.a.login,children:[Object(N.jsx)("div",{className:D.a.button,onClick:function(){v(!0)},children:"Login"}),p&&Object(N.jsxs)("div",{className:D.a.menu,children:[Object(N.jsxs)("ul",{className:D.a.nav,children:[Object(N.jsx)("li",{className:D.a.google,onClick:g,children:"Google"}),Object(N.jsx)("li",{className:D.a.github,onClick:g,children:"Github"}),Object(N.jsx)("span",{className:D.a.dashboard,onClick:k,children:"Account"}),Object(N.jsx)("span",{className:D.a.line,children:"|"}),Object(N.jsx)("span",{className:D.a.logout,onClick:function(){n.logout(),f()},children:"Log out"})]}),Object(N.jsx)("i",{className:D.a.close,onClick:f,children:Object(N.jsx)(C.a,{})})]})]})},I=n(62),P=n(32),w=n(36),E=n.n(w),F=Object(a.memo)((function(e){var t=e.onSearch,n=Object(a.useRef)(),c=function(){var e=n.current.value;t(e)};return Object(N.jsxs)("div",{className:E.a.search,children:[Object(N.jsx)("input",{ref:n,className:E.a.input,type:"search",placeholder:"Type a movie title",maxLength:"50",onKeyPress:function(e){"Enter"===e.key&&c()}}),Object(N.jsx)("button",{className:E.a.button,type:"submit",onClick:function(){c()},children:Object(N.jsx)(P.b,{})})]})})),R=n(44),M=n(23),T=n.n(M),L=Object(a.memo)((function(e){var t=e.movie,n=e.nominees,c=e.onMovieClick,i=e.onNominateClick,s=t.imdbID,o=t.Poster,r=t.Title,l=t.Year,j=Object(a.useState)(!1),m=Object(y.a)(j,2),u=m[0],b=m[1],d=Object(a.useState)(0),h=Object(y.a)(d,2),_=h[0],O=h[1];Object(a.useEffect)((function(){n&&O(n.length)}),[n]);return Object(N.jsxs)("tr",{children:[Object(N.jsxs)("td",{className:T.a.movie,onClick:function(){return c(s)},children:[Object(N.jsx)("img",{className:T.a.poster,src:o,onError:function(e){e.target.src="./images/no-poster.png"},alt:r}),Object(N.jsxs)("p",{className:T.a.description,children:[Object(N.jsx)("span",{className:T.a.title,children:r}),Object(N.jsx)("span",{className:T.a.year,children:l})]})]}),Object(N.jsx)("td",{className:T.a.nominate,children:Object(N.jsx)("i",{onClick:function(){return e=s,void(!u&&_<5&&(b(!0),i(e,!0)));var e},children:!0===u?Object(N.jsx)(R.a,{}):Object(N.jsx)(R.b,{})})})]})})),B=n(59),W=n.n(B),V=Object(a.memo)((function(e){var t=e.movies,n=e.nominees,a=e.onMovieClick,c=e.onNominateClick;return Object(N.jsxs)("table",{className:W.a.movies,children:[Object(N.jsxs)("colgroup",{children:[Object(N.jsx)("col",{}),Object(N.jsx)("col",{})]}),Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Movie"}),Object(N.jsx)("th",{children:"Nominate"})]})}),Object(N.jsx)("tbody",{children:t.map((function(e){return Object(N.jsx)(L,{movie:e,nominees:n,onMovieClick:a,onNominateClick:c},e.imdbID)}))})]})})),G=n(37),U=n.n(G),K=function(e){var t=e.nominee,n=e.onDeleteClick,a=(t.imdbID,t.Title),c=t.Year;return Object(N.jsx)(N.Fragment,{children:t&&Object(N.jsx)("tr",{children:Object(N.jsxs)("td",{className:U.a.nominee,children:[Object(N.jsxs)("p",{className:U.a.information,children:[a," | ",c]}),Object(N.jsx)("i",{className:U.a.delete,onClick:function(){return n(t)},children:Object(N.jsx)(C.a,{})})]})})})},Y=n(38),z=n.n(Y),Q=Object(a.memo)((function(e){var t=e.nominees,n=e.onDeleteClick,c=Object(a.useState)(0),i=Object(y.a)(c,2),s=i[0],o=i[1];return Object(a.useEffect)((function(){t&&o(t.length)}),[t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("table",{className:z.a.nominees,children:[Object(N.jsx)("colgroup",{children:Object(N.jsx)("col",{})}),Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:Object(N.jsx)("th",{children:"Nomination"})})}),Object(N.jsx)("tbody",{children:t&&t.map((function(e){return Object(N.jsx)(K,{nominee:e,onDeleteClick:n},e.imdbID)}))})]}),0===s&&Object(N.jsx)("span",{className:z.a.comment,children:"Please choose nominees up to 5!"}),s>=5&&Object(N.jsx)("span",{className:z.a.comment,children:"Thank you for choosing all 5 nominees!"})]})})),H=n(13),J=n.n(H),X=Object(a.memo)((function(e){var t=e.selectedMovie,n=e.onModalClose,a=t.Poster,c=t.Title,i=t.Year,s=t.Genre,o=t.Country,r=t.Runtime,l=t.Actors,j=t.Plot,m=t.imdbRating,u=t.imdbVotes;return Object(N.jsxs)("div",{className:J.a.modal,children:[Object(N.jsx)("div",{className:J.a.outside,onClick:n}),Object(N.jsxs)("div",{className:J.a.inside,children:[Object(N.jsx)("div",{className:J.a.left,children:Object(N.jsx)("img",{className:J.a.poster,src:a,onError:function(e){e.target.src="./images/no-poster.png"},alt:c})}),Object(N.jsxs)("div",{className:J.a.right,children:[Object(N.jsxs)("h2",{className:J.a.title,children:[c," ",Object(N.jsx)("em",{children:"|"})," ",Object(N.jsx)("em",{children:i})]}),Object(N.jsxs)("p",{className:["".concat(J.a.description," ").concat(J.a.hr)],children:[Object(N.jsx)("span",{children:s}),Object(N.jsxs)("span",{children:[o," ",Object(N.jsx)("em",{children:"|"})," ",r]})]}),Object(N.jsxs)("p",{className:J.a.actors,children:[Object(N.jsx)("span",{children:Object(N.jsxs)("em",{children:["N/A"!==l?"Actors:":""," "]})}),Object(N.jsx)("span",{children:"N/A"!==l?l:""})]}),Object(N.jsxs)("p",{className:J.a.plot,children:[Object(N.jsx)("span",{children:Object(N.jsxs)("em",{children:["N/A"!==j?"Plot:":""," "]})}),Object(N.jsx)("span",{children:"N/A"!==j?j:""})]}),Object(N.jsxs)("p",{className:["".concat(J.a.imdb," ").concat(J.a.hr)],children:[Object(N.jsxs)("i",{children:[Object(N.jsx)(P.c,{}),Object(N.jsx)("em",{className:J.a.rating,children:"N/A"!==m?m:"No rating"})]}),Object(N.jsxs)("i",{children:[Object(N.jsx)(P.a,{}),Object(N.jsx)("em",{className:J.a.votes,children:"N/A"!==u?u:"No votes"})]})]})]}),Object(N.jsx)("span",{children:Object(N.jsx)("i",{onClick:n,children:Object(N.jsx)(C.a,{})})})]})]})})),q=n(24),Z=n.n(q),$=Object(a.memo)((function(e){var t,n=e.pikamovie,c=e.nomineesRepository,i=Object(x.e)(),s=null===i||void 0===i||null===(t=i.location)||void 0===t?void 0:t.state,o=Object(a.useState)(s&&s.id),r=Object(y.a)(o,2),l=r[0],j=(r[1],Object(a.useState)([])),m=Object(y.a)(j,2),u=m[0],b=m[1],d=Object(a.useState)([]),h=Object(y.a)(d,2),_=h[0],O=h[1],p=Object(a.useState)(""),v=Object(y.a)(p,2),f=v[0],g=v[1],k=Object(a.useState)(null),C=Object(y.a)(k,2),S=C[0],D=C[1],A=Object(a.useState)(!1),P=Object(y.a)(A,2),w=P[0],E=P[1];Object(a.useEffect)((function(){""===f&&n.initialData().then((function(e){return b(e)}))}),[n,f]);var R=Object(a.useCallback)((function(e){e?n.searchByTitle(e).then((function(t){t?(g('Results for "'.concat(e,'"')),b(t)):g("Oops! We couldn't find the movie..try again?")})):g("")}),[]),M=Object(a.useCallback)((function(e,t){!0===t&&T(e)}),[]),T=function(e){n.searchById(e).then((function(e){O((function(t){if(!1===t.some((function(t){return t.imdbID===e.imdbID})))if(!t||t.length<5){var n=[].concat(Object(I.a)(t),[e]);O(n),l&&c.saveNominee(l,e.imdbID)}else O(t);else O(t)}))}))},L=Object(a.useCallback)((function(e){n.searchById(e).then((function(e){return D(e)})),E(!0)}),[]);return Object(N.jsxs)("div",{className:Z.a.main,children:[Object(N.jsx)(F,{onSearch:R}),""===f&&Object(N.jsx)("span",{className:Z.a.comment,children:f}),f&&Object(N.jsx)("span",{className:Z.a.comment,children:f}),Object(N.jsxs)("div",{className:Z.a.tables,children:[Object(N.jsx)("div",{className:Z.a.left,children:Object(N.jsx)(V,{movies:u,nominees:_,onMovieClick:L,onNominateClick:M})}),Object(N.jsx)("div",{className:Z.a.right,children:Object(N.jsx)(Q,{nominees:_,onDeleteClick:function(e){_.find((function(t){return e}))&&O((function(t){var n=t.filter((function(t){return t.imdbID!==e.imdbID}));O(n)}))}})})]}),w&&S&&Object(N.jsx)(X,{selectedMovie:S,onModalClose:function(){E(!1),D(null)}})]})})),ee=n(28),te=n.n(ee),ne=function(e){var t,n=e.authService,c=Object(x.e)(),i=null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.state,s=Object(a.useState)(i&&i.id),o=Object(y.a)(s,2),r=(o[0],o[1],Object(a.useState)(i&&i.name)),l=Object(y.a)(r,2),j=l[0],m=(l[1],Object(a.useState)(i&&i.email)),u=Object(y.a)(m,2),b=u[0],d=(u[1],Object(a.useState)(i&&i.nominees)),h=Object(y.a)(d,2),_=h[0];h[1];return Object(a.useEffect)((function(){n.onAuthChange((function(e){e||c.push("/")}))})),Object(N.jsxs)("div",{className:te.a.dashboard,children:[Object(N.jsxs)("div",{className:te.a.account,children:[Object(N.jsx)("h3",{className:te.a.title,children:"My Account"}),"Welcome,",!j&&Object(N.jsx)(N.Fragment,{children:" please login!"}),j&&[" ",j,"!"],Object(N.jsx)("br",{}),b]}),Object(N.jsxs)("div",{className:te.a.nomination,children:[Object(N.jsx)("h3",{className:te.a.title,children:"Nomination"}),!_&&Object(N.jsx)(N.Fragment,{children:" You haven't nominated any movies yet. "})]})]})},ae=n(60),ce=n.n(ae),ie=Object(a.memo)((function(){return Object(N.jsxs)("div",{className:ce.a.footer,children:["\xa9 2021 ",Object(N.jsx)("em",{children:"Pikamovie"})," \xb7 Built by ",Object(N.jsx)("em",{children:"JEAN KANG"})]})})),se=n(61),oe=n.n(se),re=function(e){var t=e.authService,n=e.pikamovie,a=e.nomineesRepository;return Object(N.jsx)("div",{children:Object(N.jsxs)(v.a,{children:[Object(N.jsxs)("section",{className:oe.a.header,children:[Object(N.jsx)(k,{}),Object(N.jsx)(A,{authService:t})]}),Object(N.jsx)(x.a,{exact:!0,path:"/",children:Object(N.jsx)($,{authService:t,pikamovie:n,nomineesRepository:a})}),Object(N.jsx)(x.a,{path:"/dashboard",children:Object(N.jsx)(ne,{authService:t})}),Object(N.jsx)(ie,{})]})})},le=(n(93),new m),je=new O("b2a58f20"),me=new p;s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(re,{authService:le,pikamovie:je,nomineesRepository:me})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.a2590e68.chunk.js.map